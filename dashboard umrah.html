<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Umrah & Hajj Analytics</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="css/dashbord style.css">
</head>
<body>
 <div id="sidebar"><div class="brand">Real Easy Visa</div>
    <a href="admin dashboard.html">Dashboard</a>
    <a href="dashboard services.html">Services</a>
    <a href="dashboard courses.html">Courses</a>
    <a href="dashboard umrah.html" class="active">Umrah</a>
    <a href="dashboard videos.html">Videos</a>
    <a href="dashboard Analytics.html">Analytics</a>
    <a href="dashboard Assessment Book.html">Assessment Book</a>
    <a href="dashboard settings.html">Settings</a>
    <a href="dashboard Logout.html">Logout</a>
 </div>
 <main>
   <div class="topbar"><div class="search-bar"><input placeholder="Search..."></div><div class="admin-info"><strong>Admin User</strong><span id="loginTime"></span></div></div>
   <div class="content">
     <h1>Umrah & Hajj (2013 - 2025)</h1>
     <div class="filter-row">
       <select id="umrahYearFrom"><option>2013</option></select>
       <select id="umrahYearTo"><option>2025</option></select>
       <button class="btn secondary" id="applyUmrahFilter">Apply Filter</button>
     </div>

     <div class="charts">
       <div class="chart-container"><h3>Yearly Pilgrims (bar)</h3><div class="canvas-wrap"><canvas id="umrahChart"></canvas></div></div>
       <div class="chart-container"><h3>Share by Type (doughnut)</h3><div class="canvas-wrap"><canvas id="umrahPie"></canvas></div></div>
     </div>

   </div>
 </main>
 <script>
   document.addEventListener('DOMContentLoaded', function(){
     // populate year selects quickly
     const from = document.getElementById('umrahYearFrom'), to = document.getElementById('umrahYearTo');
     from.innerHTML=''; to.innerHTML='';
     for(let y=2013;y<=2025;y++){ from.innerHTML += `<option>${y}</option>`; to.innerHTML += `<option>${y}</option>`; }
     to.value = '2025';

     // use DATA.umrah from js/dashboard.js
     const data = window.DATA?.umrah || {labels:[],values:[]};
     if(window.Chart && document.getElementById('umrahChart')){
       new Chart(document.getElementById('umrahChart').getContext('2d'),{type:'bar',data:{labels:data.labels,datasets:[{label:'Pilgrims',data:data.values,backgroundColor:'#080838'}]},options:{responsive:true}});
       new Chart(document.getElementById('umrahPie').getContext('2d'),{type:'doughnut',data:{labels:['Umrah','Hajj'],datasets:[{data:[80,20],backgroundColor:['#c24e00','#080838']}]},options:{responsive:true}});
     }
     document.getElementById('applyUmrahFilter').addEventListener('click',()=>alert('Filter applied (demo)'));
   });
 </script>
 <script src="js/script.js"></script>
</body>
</html>
